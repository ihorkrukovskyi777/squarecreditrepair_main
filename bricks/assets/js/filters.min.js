function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(e){var r=_toPrimitive(e,"string");return"symbol"==_typeof(r)?r:r+""}function _toPrimitive(e,r){if("object"!=_typeof(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}window.bricksUtils&&(window.bricksUtils.updateLiveSearchTerm=function(e,r){document.querySelectorAll('span[data-brx-ls-term="'.concat(e,'"]')).forEach((function(e){e.innerHTML=r}))},window.bricksUtils.hideLiveSearchWrapper=function(e){document.querySelectorAll('[data-brx-ls-wrapper="'.concat(e,'"]')).forEach((function(e){e.classList.remove("brx-ls-active")}))},window.bricksUtils.showLiveSearchWrapper=function(e){document.querySelectorAll('[data-brx-ls-wrapper="'.concat(e,'"]')).forEach((function(e){e.classList.add("brx-ls-active")}))},window.bricksUtils.debounce=function(e,r,t){var n;return function(){var i=this,a=arguments,l=t&&!n;clearTimeout(n),n=setTimeout((function(){n=null,t||e.apply(i,a)}),r),l&&e.apply(i,a)}},window.bricksUtils.getFiltersForQuery=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!window.bricksData.filterInstances||Object.keys(window.bricksData.filterInstances).length<1)return[];var t=Object.values(window.bricksData.filterInstances).filter((function(r){return r.targetQueryId===e}))||[];return r?t.map((function(e){return e[r]})):t},window.bricksUtils.buildTaxonomyQueryArgs=function(e,r,t){if(e.hasOwnProperty("tax_query")){if(e.tax_query.some((function(e){return e.taxonomy===r&&e.terms===t})))return e;e.tax_query.push({taxonomy:r,field:"slug",terms:t})}else e.tax_query=[{taxonomy:r,field:"slug",terms:t}];return e},window.bricksUtils.buildMetaQueryArgs=function(e,r){return e.hasOwnProperty("meta_query")?e.meta_query.push(r):e.meta_query=[r],e},window.bricksUtils.buildDateQueryArgs=function(e,r){return e.hasOwnProperty("date_query")?e.date_query.push(r):e.date_query=[r],e},window.bricksUtils.buildSortQueryArgs=function(e,r,t,n,i){return e.hasOwnProperty("orderby")||(e.orderby={}),n&&(e.meta_key=r),i?(e.meta_type="NUMERIC",e.orderby.meta_value_num=t):e.orderby[r]=t,e});var bricksFiltersFn=new BricksFunction({parentNode:document,selector:"[data-brx-filter]",frontEndOnly:!0,eachElement:function(e){var r,t=JSON.parse(null===(r=e.dataset)||void 0===r?void 0:r.brxFilter)||!1;if(t){var n=(null==t?void 0:t.filterId)||!1,i=(null==t?void 0:t.targetQueryId)||!1,a=(null==t?void 0:t.filterType)||!1,l=(null==t?void 0:t.filterAction)||!1;if(n&&i&&a&&l){if(window.bricksData.filterInstances||(window.bricksData.filterInstances={}),!window.bricksData.filterInstances[n]){switch(t.filterElement=e,t.currentValue="",t.originalValue="",a){case"search":case"select":case"datepicker":e.value&&(t.currentValue=e.value,t.originalValue=e.value);break;case"reset":case"apply":break;case"radio":var c=e.querySelector("input:checked");c&&(c=c.value,t.currentValue=c,t.originalValue=c);break;case"checkbox":var u=e.querySelectorAll("input:checked");if(u.length){var o=Array.from(u).map((function(e){return e.value}));t.currentValue=o,t.originalValue=o}else t.currentValue=[],t.originalValue=[];var s=e.querySelector("input");s&&(t.name=s.name);break;case"pagination":t.currentValue=0,t.originalValue=1;break;case"range":var f=e.querySelector('input.min[type="number"]')||0,d=e.querySelector('input.max[type="number"]')||0,b=[t.min,t.max];f&&(b[0]=f.value),d&&(b[1]=d.value),t.currentValue=[].concat(b),t.originalValue=[].concat(b)}window.bricksData.filterInstances[n]=t}e.dataset.brxFilter=!0}}}});function bricksFilters(){bricksFiltersFn.run()}var bricksSearchFilterFn=new BricksFunction({parentNode:document,selector:".brxe-filter-search[data-brx-filter]",frontEndOnly:!0,eachElement:function(e){var r=Object.values(window.bricksData.filterInstances).find((function(r){return r.filterElement===e}))||!1;if(r){var t=(null==r?void 0:r.filterId)||!1,n=(null==r?void 0:r.targetQueryId)||!1,i=(null==r?void 0:r.filterMethod)||"ajax",a=(null==r?void 0:r.filterApplyOn)||"change",l=(null==r?void 0:r.filterInputDebounce)||500,c=(null==r?void 0:r.filterMinChars)||3;if("ajax"===i){var u=function(e){var i=e.target.value,l="Enter"===e.key;if(l||i!==r.currentValue){r.currentValue=i;var u=window.bricksData.queryLoopInstances[n]||!1;if(u)if(null!=u&&u.isLiveSearch&&""===i)bricksUtils.hideLiveSearchWrapper(n);else if(!(!l&&i.length&&i.length<c)&&(l||n&&"click"!==a)){bricksUtils.updateLiveSearchTerm(n,i);var o=bricksGetFiltersArgs(n);bricksGetQueryResult(n,o).then((function(e){bricksDisplayQueryResult(t,n,e)})).catch((function(e){console.log("Error",e)}))}}};"change"===a?e.addEventListener("keyup",bricksUtils.debounce(u,l)):(e.addEventListener("input",u),e.addEventListener("keyup",(function(e){"Enter"===e.key&&u(e)}))),e.addEventListener("focus",(function(e){var r=e.target.value,t=window.bricksData.queryLoopInstances[n]||!1;t&&null!=t&&t.isLiveSearch&&""!==r&&bricksUtils.showLiveSearchWrapper(n)}))}}}});function bricksSearchFilter(){bricksSearchFilterFn.run()}var bricksSelectFilterFn=new BricksFunction({parentNode:document,selector:".brxe-filter-select[data-brx-filter]",frontEndOnly:!0,eachElement:function(e){var r=Object.values(window.bricksData.filterInstances).find((function(r){return r.filterElement===e}))||!1;if(r){var t=(null==r?void 0:r.filterId)||!1,n=(null==r?void 0:r.targetQueryId)||!1,i=(null==r?void 0:r.filterMethod)||"ajax",a=(null==r||r.filterSource,(null==r?void 0:r.filterApplyOn)||"change");n&&"ajax"===i&&e.addEventListener("change",(function(e){var i=e.target.value;if(i!==r.currentValue&&(r.currentValue=i,"change"===a&&(window.bricksData.queryLoopInstances[n]||!1))){var l=bricksGetFiltersArgs(n);bricksGetQueryResult(n,l).then((function(e){bricksDisplayQueryResult(t,n,e)})).catch((function(e){console.log("Error",e)}))}}))}}});function bricksSelectFilter(){bricksSelectFilterFn.run()}var bricksRadioFilterFn=new BricksFunction({parentNode:document,selector:".brxe-filter-radio[data-brx-filter] input",frontEndOnly:!0,eachElement:function(e){var r=e.closest("[data-brx-filter]")||!1;if(r){var t=Object.values(window.bricksData.filterInstances).find((function(e){return e.filterElement===r}))||!1;if(t){var n=(null==t?void 0:t.filterId)||!1,i=(null==t?void 0:t.targetQueryId)||!1,a=(null==t?void 0:t.filterMethod)||"ajax",l=(null==t?void 0:t.filterApplyOn)||"change";i&&(e.addEventListener("keydown",(function(e){if("ArrowDown"===e.key||"ArrowUp"===e.key||"ArrowLeft"===e.key||"ArrowRight"===e.key){e.preventDefault();var r=e.target.closest("li");if("ArrowDown"===e.key||"ArrowRight"===e.key){for(var t=r.nextElementSibling;t&&t.querySelector("input")&&t.querySelector("input").disabled;)t=t.nextElementSibling;t&&t.querySelector("input")&&t.querySelector("input").focus()}else if("ArrowUp"===e.key||"ArrowLeft"===e.key){for(var n=r.previousElementSibling;n&&n.querySelector("input")&&n.querySelector("input").disabled;)n=n.previousElementSibling;n&&n.querySelector("input")&&n.querySelector("input").focus()}}})),"ajax"===a&&e.addEventListener("change",(function(r){var a=r.target.value;if(a!==t.currentValue&&(t.currentValue=a,t.filterElement.name=e.name,"change"===l&&(window.bricksData.queryLoopInstances[i]||!1))){var c=bricksGetFiltersArgs(i);bricksGetQueryResult(i,c).then((function(e){bricksDisplayQueryResult(n,i,e)})).catch((function(e){console.log("Error",e)}))}})))}}}});function bricksRadioFilter(){bricksRadioFilterFn.run()}var bricksRangeFilterFn=new BricksFunction({parentNode:document,selector:'.brxe-filter-range[data-brx-filter] input[type="number"]',frontEndOnly:!0,eachElement:function(e){var r=e.closest("[data-brx-filter]")||!1;if(r){var t=Object.values(window.bricksData.filterInstances).find((function(e){return e.filterElement===r}))||!1;if(t){var n=(null==t?void 0:t.filterId)||!1,i=(null==t?void 0:t.targetQueryId)||!1,a=(null==t?void 0:t.filterMethod)||"ajax",l=(null==t?void 0:t.filterApplyOn)||"change";i&&"ajax"===a&&e.addEventListener("change",(function(a){var c=e.classList.contains("min")?"min":"max",u="min"===c?e.value:r.querySelector('input.min[type="number"]').value||0,o="max"===c?e.value:r.querySelector('input.max[type="number"]').value||0;if(u=parseInt(u),o=parseInt(o),!isNaN(u)&&!isNaN(o)){u>o&&("min"===c?(u=o,e.value=u):(o=u,e.value=o)),u<t.min?(u=t.min,e.value=u):u>t.max&&(u=t.max,e.value=u);var s=[u,o];if(s!==t.currentValue)if(t.currentValue=[].concat(s),"change"===l)if(window.bricksData.queryLoopInstances[i]||!1){var f=bricksGetFiltersArgs(i);bricksGetQueryResult(i,f).then((function(e){bricksDisplayQueryResult(n,i,e)})).catch((function(e){console.log("Error",e)}))}}}))}}}});function bricksRangeFilter(){bricksRangeFilterFn.run()}var bricksRangeSliderUIFn=new BricksFunction({parentNode:document,selector:'.brxe-filter-range[data-brx-filter] input[type="range"]',frontEndOnly:!0,eachElement:function(e){var r=e.closest("[data-brx-filter]")||!1;if(r){var t=Object.values(window.bricksData.filterInstances).find((function(e){return e.filterElement===r}))||!1;if(t){var n=function(e,n){var i=r.querySelector(".value-wrap .".concat(e," .value"));i&&(n=parseInt(n)||0,null!=t&&t.thousands&&null!=t&&t.separator?n=n.toLocaleString("en-US").replaceAll(",",null==t?void 0:t.separator):null!=t&&t.thousands&&(n=n.toLocaleString("en-US")),i.innerText=n)};e.addEventListener("input",(function(r){var t=parseInt(r.target.value)||0,i=e.classList.contains("min")?"lower":"upper";n(i,t)})),e.addEventListener("change",(function(i){var a=e.classList.contains("min")?"lower":"upper",l="lower"===a?e.value:r.querySelector('input.min[type="range"]').value||0,c="upper"===a?e.value:r.querySelector('input.max[type="range"]').value||0;(l=parseInt(l))>(c=parseInt(c))&&("lower"===a?(l=c,e.value=l):(c=l,e.value=c)),(l<t.min||l>t.max)&&(e.value=l),n(a,e.value);var u=r.querySelector('input.min[type="number"]');u&&(u.value=l);var o=r.querySelector('input.max[type="number"]');o&&(o.value=c),"lower"===a?u.dispatchEvent(new Event("change")):o.dispatchEvent(new Event("change"))}))}}}});function bricksRangeSliderUI(){bricksRangeSliderUIFn.run()}var bricksCheckboxFilterFn=new BricksFunction({parentNode:document,selector:".brxe-filter-checkbox[data-brx-filter] input",frontEndOnly:!0,eachElement:function(e){var r=e.closest("[data-brx-filter]")||!1;if(r){var t=Object.values(window.bricksData.filterInstances).find((function(e){return e.filterElement===r}))||!1;if(t){var n=(null==t?void 0:t.filterId)||!1,i=(null==t?void 0:t.targetQueryId)||!1,a=(null==t?void 0:t.filterMethod)||"ajax",l=(null==t?void 0:t.filterApplyOn)||"change";i&&"ajax"===a&&e.addEventListener("change",(function(r){var a=r.target.value,c=_toConsumableArray(t.currentValue)||[],u=c.indexOf(a);if((!r.target.checked&&u>-1&&u>-1&&c.splice(u,1),r.target.checked&&-1===u&&c.push(a),t.currentValue=_toConsumableArray(c),t.filterElement.name=e.name,"change"===l)&&(window.bricksData.queryLoopInstances[i]||!1)){var o=bricksGetFiltersArgs(i);bricksGetQueryResult(i,o).then((function(e){bricksDisplayQueryResult(n,i,e)})).catch((function(e){console.log("Error",e)}))}}))}}}});function bricksCheckboxFilter(){bricksCheckboxFilterFn.run()}var bricksDatePickerFilterFn=new BricksFunction({parentNode:document,selector:".brxe-filter-datepicker[data-brx-filter]",frontEndOnly:!0,eachElement:function(e){var r=Object.values(window.bricksData.filterInstances).find((function(r){return r.filterElement===e}))||!1;if(r){var t=(null==r?void 0:r.filterId)||!1,n=(null==r?void 0:r.targetQueryId)||!1,i=(null==r?void 0:r.filterMethod)||"ajax",a=(null==r||r.filterSource,(null==r?void 0:r.filterApplyOn)||"change");if(n&&"ajax"===i){var l,c=(null===(l=e.dataset)||void 0===l?void 0:l.bricksDatepickerOptions)||!1;c&&(r.datepicker&&r.datepicker.destroy(),(c=JSON.parse(c)).disableMobile=!0,c.onReady=function(r,t,n){var i=e.getAttribute("aria-label")||"Date";n.altInput.setAttribute("aria-label",i),e.id&&(n.altInput.setAttribute("id",e.id),e.removeAttribute("id"))},c.onChange=function(e,i,l){var c=l.config.mode;if("single"===c){if(!Array.isArray(e)||1!==e.length)return}else if("range"===c&&(!Array.isArray(e)||2!==e.length))return;if(i!==r.currentValue&&(r.currentValue=i,"change"===a&&(window.bricksData.queryLoopInstances[n]||!1))){var u=bricksGetFiltersArgs(n);bricksGetQueryResult(n,u).then((function(e){bricksDisplayQueryResult(t,n,e)})).catch((function(e){console.log("Error",e)}))}},r.datepicker=flatpickr(e,c))}}}});function bricksDatePickerFilter(){bricksDatePickerFilterFn.run()}var bricksResetFilterFn=new BricksFunction({parentNode:document,selector:".brxe-filter-submit[type='reset'][data-brx-filter]",frontEndOnly:!0,eachElement:function(e){var r=Object.values(window.bricksData.filterInstances).find((function(r){return r.filterElement===e}))||!1;if(r){var t=(null==r?void 0:r.filterId)||!1,n=(null==r?void 0:r.targetQueryId)||!1,i=(null==r?void 0:r.filterMethod)||"ajax";n&&"ajax"===i&&e.addEventListener("click",(function(e){var r=Object.values(window.bricksData.filterInstances).filter((function(e){return e.targetQueryId===n})),i=window.bricksData.queryLoopInstances[n]||!1;if(r.length)if(r.forEach((function(e){var r=e.filterType,t=e.filterElement,i=e.originalValue;switch(r){case"search":t.value=i,e.currentValue=i,bricksUtils.updateLiveSearchTerm(n,i);break;case"select":t.value=i,e.currentValue=i;break;case"pagination":e.currentValue=0;break;case"radio":t.value=i,e.currentValue=i,t.querySelectorAll("input").forEach((function(e){e.value!==i?e.checked=!1:e.checked=!0}));break;case"checkbox":e.currentValue=_toConsumableArray(i),t.querySelectorAll("input").forEach((function(e){-1===i.indexOf(e.value)?e.checked=!1:e.checked=!0}));break;case"datepicker":var a=e.datepicker||!1;if(!a)return;a.clear(),a.setDate(i,!1),e.currentValue=i;break;case"range":e.currentValue=_toConsumableArray(i)}})),null!=i&&i.isLiveSearch)bricksUtils.hideLiveSearchWrapper(n);else{var a=bricksGetFiltersArgs(n);bricksGetQueryResult(n,a).then((function(e){bricksDisplayQueryResult(t,n,e)})).catch((function(e){console.log("Error",e)}))}}))}}});function bricksResetFilter(){bricksResetFilterFn.run()}var bricksApplyFilterFn=new BricksFunction({parentNode:document,selector:".brxe-filter-submit[type='submit'][data-brx-filter]",frontEndOnly:!0,eachElement:function(e){var r=Object.values(window.bricksData.filterInstances).find((function(r){return r.filterElement===e}))||!1;if(r){var t=(null==r?void 0:r.filterId)||!1,n=(null==r?void 0:r.targetQueryId)||!1,i=(null==r?void 0:r.filterMethod)||"ajax";n&&"ajax"===i&&e.addEventListener("click",(function(e){if(window.bricksData.queryLoopInstances[n]||!1){var r=bricksGetFiltersArgs(n);bricksGetQueryResult(n,r).then((function(e){bricksDisplayQueryResult(t,n,e)})).catch((function(e){console.log("Error",e)}))}}))}}});function bricksApplyFilter(){bricksApplyFilterFn.run()}var bricksPaginationFilterFn=new BricksFunction({parentNode:document,selector:".brxe-pagination[data-brx-filter] a",frontEndOnly:!0,eachElement:function(e){var r=e.closest("[data-brx-filter]")||!1;if(r){var t=Object.values(window.bricksData.filterInstances).find((function(e){return e.filterElement===r}))||!1;if(t){var n=(null==t?void 0:t.filterId)||!1,i=(null==t?void 0:t.targetQueryId)||!1,a=(null==t?void 0:t.filterMethod)||"ajax",l=bricksUtils.getFiltersForQuery(t.targetQueryId);if((l=l.filter((function(e){return"pagination"!==e.filterType}))).length){"ajax"===a&&e.addEventListener("click",(function(e){e.preventDefault();var r=e.currentTarget;if(window.bricksData.queryLoopInstances[i]||!1){var t=r.href||!1;if(t){var a=1,l=new URL(t);if(l.searchParams.has("paged"))a=parseInt(l.searchParams.get("paged"));else{var c=l.pathname.split("/").filter((function(e){return""!==e}));a=c[c.length-1],isNaN(a)&&(a=1)}if(!(parseInt(a)<1)){!function(e,r){var t=Object.values(window.bricksData.filterInstances).filter((function(r){return r.targetQueryId===e&&"pagination"===r.filterType}));t.length&&t.forEach((function(e){e.currentValue=r}))}(i,a);var u=bricksGetFiltersArgs(i);bricksGetQueryResult(i,u).then((function(e){bricksDisplayQueryResult(n,i,e),t&&window.history.pushState({},"",r.href)})).catch((function(e){console.log("Error",e)}))}}}}))}else r.removeAttribute("data-brx-filter")}}}});function bricksPaginationFilter(){bricksPaginationFilterFn.run()}var bricksFiltersA11yHandlerFn=new BricksFunction({parentNode:document,selector:"span.brx-option-text[tabindex]",frontEndOnly:!0,eachElement:function(e){var r=e.previousElementSibling||!1;r&&"INPUT"===r.tagName&&e.addEventListener("keydown",(function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),r.click())}))}});function bricksFiltersA11yHandler(){bricksFiltersA11yHandlerFn.run()}function bricksGetFiltersArgs(e){var r;if(!e)return!1;var t=Object.values(window.bricksData.filterInstances).filter((function(r){return r.targetQueryId===e}));if(!t.length)return!1;var n={},i=JSON.parse(null===(r=window.bricksData.queryLoopInstances[e])||void 0===r?void 0:r.queryVars)||!1;return window.bricksData.pageFilters&&Object.keys(window.bricksData.pageFilters).length>0&&window.bricksData.pageFilters.constructor===Object&&!0!==(null==i?void 0:i.disable_query_merge)&&Object.keys(window.bricksData.pageFilters).forEach((function(e){n=bricksUtils.buildTaxonomyQueryArgs(n,e,window.bricksData.pageFilters[e])})),t.forEach((function(e){var r=e.filterType,t=e.filterElement,i=e.filterSource||!1,a=e.filterAction||!1,l=e.currentValue;if("sort"===a){if(!["select","radio"].includes(r))return;if("radio"===r&&(l=e.currentValue||!1,t=e.filterElement.querySelector("input:checked")),!l||!t)return;var c="",u="",o=!1,s=!1;l.startsWith("brx_meta_")?(l=l.replace("brx_meta_",""),o=!0):l.startsWith("brx_metanum_")&&(l=l.replace("brx_metanum_",""),o=!0,s=!0),l.endsWith("_ASC")?(c=l.replace("_ASC",""),u="ASC"):l.endsWith("_DESC")&&(c=l.replace("_DESC",""),u="DESC"),""!==c&&""!==u&&(n=bricksUtils.buildSortQueryArgs(n,c,u,o,s))}else if("filter"===a)switch(r){case"search":if(!l.length)return;n[t.name]=l;break;case"select":if(!l.length)return;if("taxonomy"===i)n=bricksUtils.buildTaxonomyQueryArgs(n,t.name,l);else if("customField"===i){var f=l.split("|");n.hasOwnProperty("meta_query")?n.meta_query.push({key:f[0],value:f[1],compare:f[2]||"="}):n.meta_query=[{key:f[0],value:f[1],compare:f[2]||"="}]}else n[t.name]=l;break;case"datepicker":var d;if(!l.length)return;var b=e.fieldInfo||!1;if(!b)return;b.field_type;var v=b.field_key||"date",y=b.operator||"is",p=l.split((null===(d=e.datepicker)||void 0===d||null===(d=d.l10n)||void 0===d?void 0:d.rangeSeparator)||" - "),k=[],m=[];if(p.forEach((function(r,t){var n=e.datepicker.parseDate(r,e.datepicker.config.altFormat),i=n.getMonth()+1,a=n.getDate(),l=n.getFullYear();if(m[t]={year:l,month:i,day:a},i<10&&(i="0"+i),a<10&&(a="0"+a),k[t]="".concat(l,"-").concat(i,"-").concat(a),e.datepicker.config.enableTime){var c=n.getHours(),u=n.getMinutes();c<10&&(c="0"+c),u<10&&(u="0"+u),m[t].hour=c,m[t].minute=u,k[t]+=" ".concat(c,":").concat(u)}})),"wpField"===i){var h={};1===m.length?h="is"===y?m[0]:_defineProperty({},y,m[0]):2===m.length&&(h={after:m[0],before:m[1],inclusive:!0}),n=bricksUtils.buildDateQueryArgs(n,h)}else if("customField"===i){var g={};1===k.length?(g={key:v,value:k[0],compare:"=",type:e.datepicker.config.enableTime?"DATETIME":"DATE"},"is"!==y&&(g.compare="before"===y?"<=":">=")):2===k.length&&k.forEach((function(r,t){g[t]={key:v,value:r,compare:0===t?">=":"<=",type:e.datepicker.config.enableTime?"DATETIME":"DATE"}})),n=bricksUtils.buildMetaQueryArgs(n,g)}break;case"radio":if(!(l=e.currentValue||!1))return;if(!(t=e.filterElement.querySelector('input[value="'.concat(l,'"]'))))return;if("taxonomy"===i)n=bricksUtils.buildTaxonomyQueryArgs(n,t.name,l);else if("customField"===i&&""!==l){var w=l.split("|"),E={key:w[0],value:w[1],compare:w[2]||"="};"EXISTS"!==w[2]&&"NOT EXISTS"!==w[2]||(E={key:w[0],compare:w[2]}),n.hasOwnProperty("meta_query")?n.meta_query.push(E):n.meta_query=[E]}else n[t.name]=l;break;case"range":var I;if(!l.length&&2!==l.length)return;var F=parseInt(l[0]),x=parseInt(l[1]);if(isNaN(F)||isNaN(x)||F>x)return;if(F===e.min&&x===e.max)return;var S=e.fieldInfo||!1;if(!S)return;S.field_type;var A=null!==(I=S.field_key)&&void 0!==I&&I;if(!A)return;if("customField"===i){var D={key:A,value:[F,x],compare:"BETWEEN",type:"NUMERIC"};n=bricksUtils.buildMetaQueryArgs(n,D)}break;case"checkbox":if(!(l=e.currentValue||!1).length)return;if("taxonomy"===i)n=bricksUtils.buildTaxonomyQueryArgs(n,e.name,l);else if("customField"===i&&l.length>0)l.forEach((function(e){var r=e.split("|");if(n.hasOwnProperty("meta_query")){var t=n.meta_query.findIndex((function(e){return e.key===r[0]}));t>-1?n.meta_query[t].value.push(r[1]):n.meta_query.push({key:r[0],value:[r[1]],compare:r[2]||"IN"})}else n.meta_query=[{key:r[0],value:[r[1]],compare:r[2]||"IN"}]}));else switch(t.name){case"p":n.post__in=l;break;case"author":n.author__in=l;break;default:n[t.name]=l}break;case"pagination":if((l=e.currentValue||1)<1)return;n.paged=l}})),n}function bricksLiveSearchWrappersInit(){document.addEventListener("bricks/ajax/start",(function(e){var r=e.detail.queryId||!1;if(r){var t=window.bricksData.queryLoopInstances[r]||!1;null!=t&&t.isLiveSearch?(bricksUtils.showLiveSearchWrapper(r),window.bricksData.lastActiveLiveSearchQueryId=r):window.bricksData.lastActiveLiveSearchQueryId=!1}})),document.addEventListener("click",(function(e){var r,t=e.target,n=window.bricksData.lastActiveLiveSearchQueryId||!1;if(n&&!Object.values(window.bricksData.filterInstances).filter((function(e){return e.targetQueryId===n&&e.filterElement===t})).length){var i=t.closest("[data-brx-ls-wrapper]");(null==i||null===(r=i.dataset)||void 0===r?void 0:r.brxLsWrapper)!==n&&bricksUtils.hideLiveSearchWrapper(n)}}))}function bricksDisableFiltersOnLoad(){document.addEventListener("bricks/ajax/start",(function(e){var r=e.detail.queryId||!1;if(r&&(window.bricksData.queryLoopInstances[r]||!1)){var t=Object.values(window.bricksData.filterInstances).filter((function(e){return e.targetQueryId===r}));t.length&&t.forEach((function(e){var r;if("search"!==e.filterType){var t=null!==(r=e.filterElement)&&void 0!==r&&r;t&&(t.disabled=!0,t.classList.add("brx-filter-disabled"),t.querySelectorAll("input").forEach((function(e){e.disabled=!0})))}}))}})),document.addEventListener("bricks/ajax/end",(function(e){var r=e.detail.queryId||!1;if(r&&(window.bricksData.queryLoopInstances[r]||!1)){var t=Object.values(window.bricksData.filterInstances).filter((function(e){return e.targetQueryId===r}));t.length&&t.forEach((function(e){var r,t=null!==(r=e.filterElement)&&void 0!==r&&r;t&&(t.disabled=!1,t.classList.remove("brx-filter-disabled"),t.querySelectorAll("input").forEach((function(e){e.disabled=!1})))}))}}))}function bricksRestoreFocusOnFilter(){var e={elementId:!1,input:!1};document.addEventListener("focusin",(function(r){var t=r.target,n=t.closest("[data-brx-filter]");if(n){var i,a=Object.values(window.bricksData.filterInstances).find((function(e){return e.filterElement===n}));if(a)e.elementId=a.filterId,e.input=(null===(i=t.parentElement)||void 0===i?void 0:i.querySelector("input"))||!1}})),document.addEventListener("bricks/ajax/query_result/displayed",(function(r){if(e.elementId&&e.input){var t=Object.values(window.bricksData.filterInstances).find((function(r){return r.filterId===e.elementId}));if(t&&t.filterElement){var n=t.filterElement.querySelectorAll("input"),i=Array.from(n).find((function(r){return r.name===e.input.name&&r.value===e.input.value}));if(i){var a=i.parentElement.querySelector("[tabindex]")||!1;a?a.focus():i.focus()}}}}))}document.addEventListener("DOMContentLoaded",(function(e){bricksFilters(),bricksLiveSearchWrappersInit(),bricksSearchFilter(),bricksSelectFilter(),bricksResetFilter(),bricksApplyFilter(),bricksPaginationFilter(),bricksRadioFilter(),bricksRangeFilter(),bricksRangeSliderUI(),bricksCheckboxFilter(),bricksDatePickerFilter(),bricksFiltersA11yHandler(),bricksDisableFiltersOnLoad(),bricksRestoreFocusOnFilter()}));
